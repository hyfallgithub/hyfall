<!DOCTYPE html><html lang="en">
<!-- Mirrored from ash.gd/posts/2020-06-20-component-level-static-props-in-next-js by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2021 02:10:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><style type="text/css">
            /* @font-face {
              font-family: 'PT Root UI';
              font-display: swap;
              src: url('/fonts/pt-root-ui-vf/fonts/pt-root-ui-vf.woff2') format('woff2');
            } */
            
            @font-face {
              font-family: 'Zangezi Sans';
              font-weight: 700;
              font-display: swap;
              src: url('../fonts/zangezi-sans-0.8/ZangeziSans08-Black.woff2') format('woff2');
            }

            @font-face {
              font-family: 'JetBrains Mono';
              font-display: swap;
              src: url('../fonts/JetBrainsMono-1.0.3/web/woff2/JetBrainsMono-Regular.woff2') format('woff2');
            }

            @font-face {
              font-family: Space Grotesk;
              font-display: swap;
              src: url('../fonts/space-grotesk-1.1.6/variable/SpaceGroteskVariable.ttf') format('truetype');
            }
          </style><title>Component-level static props in Next.js - Ash</title><noscript data-n-css="true"></noscript><link rel="preload" href="../_next/static/chunks/main-a8bee2a654dc1ec3f867.js" as="script"/><link rel="preload" href="../_next/static/chunks/webpack-0d21ce76fa2eab9a99a2.js" as="script"/><link rel="preload" href="../_next/static/chunks/framework-1bb91ad9873b30ae9cc8.js" as="script"/><link rel="preload" href="../_next/static/chunks/4b5af5b7c403ea92fecda8151d2d0aec9203d47f-166fc89835d7310a1edd.js" as="script"/><link rel="preload" href="../_next/static/chunks/bb89b55f4e46d4f7117026e883efb04dd53f34b0-dcb8bb12789c430ced16.js" as="script"/><link rel="preload" href="../_next/static/chunks/3055742522a0ac2e5da4de9349bfe16c5d457882-77e8f1bc6cd5a85348d4.js" as="script"/><link rel="preload" href="../_next/static/chunks/fbf7bac2deb23a982538d824bf4ea07943c8716f-a2df4da657d7cc84cff7.js" as="script"/><link rel="preload" href="../_next/static/chunks/pages/_app-bb9817fa7b5f1b47a55d.js" as="script"/><link rel="preload" href="../_next/static/chunks/pages/posts/2020-06-20-component-level-static-props-in-next-js-9bae0648c03053515b56.js" as="script"/><style data-styled="" data-styled-version="5.2.1">.dlAsPD{padding-bottom:15vmin;}/*!sc*/
.lgZlXc{padding-left:var(--space2);padding-right:var(--space2);max-width:75rem;}/*!sc*/
.bEFEVu{margin-left:calc(var(--space2) * -1);margin-right:calc(var(--space2) * -1);}/*!sc*/
.ecyWVI{max-width:44ch;}/*!sc*/
data-styled.g1[id="box__Box-o7e38x-0"]{content:"dlAsPD,lgZlXc,gBeotF,bEFEVu,ecyWVI,"}/*!sc*/
.iNWQe{padding:var(--space2);background-color:#131313;font-size:0.8rem;color:#fff;overflow:auto;}/*!sc*/
.iNWQe .shiki{background-color:transparent !important;}/*!sc*/
.iNWQe code{white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;tab-size:2;font:inherit;font-family:Arnold;font-family:'JetBrains Mono';}/*!sc*/
data-styled.g2[id="code__Container-x5h3cp-0"]{content:"iNWQe,"}/*!sc*/
*{margin:0;padding:0;}/*!sc*/
:root{--document-border-color:#fff;--body-color:#020202;--body-color-subtle:rgb(69,68,68);--background-color:rgb(253,206,245);--accent-color:#090efe;--accent-color-b:#f8ce03;--accent-color-c:#e3fffd;--document-border-width:var(--space2);font-family: Space Grotesk,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-variation-settings:'wght' 430;font-size:1.2rem;font-size:clamp(1.26rem,1.8vw,1.48rem);line-height:1.44;-webkit-text-size-adjust:100%;text-size-adjust:100%;background-color:var(--document-border-color);color:var(--body-color);margin:var(--document-border-width);margin-bottom:0;--space1:0.25rem;--space2:1rem;--space3:1.25rem;--space4:1.875rem;--space5:2.8125rem;}/*!sc*/
@media (min-width:30em){:root{--space1:0.3125rem;--space2:1.25rem;--space3:1.5625rem;--space4:2.34375rem;--space5:3.515625rem;}}/*!sc*/
@media (min-width:45em){:root{--space1:0.390625rem;--space2:1.5625rem;--space3:1.953125rem;--space4:2.9296875rem;--space5:4.39453125rem;}}/*!sc*/
h1,h2,h3,h4,h5,h6{font-size:1rem;font-weight:normal;}/*!sc*/
a{color:var(--accent-color);-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g3[id="sc-global-ehqBEZ1"]{content:"sc-global-ehqBEZ1,"}/*!sc*/
.fLoZft{font-variation-settings:'wght' 680;}/*!sc*/
.fJYDkD{font-size:0.8rem;}/*!sc*/
.jhWntc{font-size:0.6rem;font-family:'JetBrains Mono',SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;}/*!sc*/
data-styled.g4[id="text__Text-sc-1w878hb-0"]{content:"fLoZft,fJYDkD,kwyDPp,jhWntc,"}/*!sc*/
.kMIxmf{margin:calc(var(--space1) * -1);list-style:none;}/*!sc*/
@media (max-width:calc(30em - 1px)){.kMIxmf{text-align:right;}}/*!sc*/
@media (min-width:30em){.kMIxmf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
data-styled.g5[id="navigation__NavigationList-sc-774eka-0"]{content:"kMIxmf,"}/*!sc*/
.jCRvkf{display:inline-block;position:relative;padding:calc(var(--space1) / 2) var(--space1);color:inherit;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.jCRvkf:hover{background-color:initial;color:var(--accent-color);}/*!sc*/
.jCRvkf.is-active::after{display:block;position:absolute;height:2px;background-color:var(--accent-color);content:'';}/*!sc*/
@media (max-width:calc(30em - 1px)){.jCRvkf.is-active::after{width:var(--space2);left:0;top:calc(50% - 1px);-webkit-transform:translate(-100%,-50%);-ms-transform:translate(-100%,-50%);transform:translate(-100%,-50%);}}/*!sc*/
@media (min-width:30em){.jCRvkf.is-active::after{left:var(--space1);right:var(--space1);bottom:calc((var(--space1) * 0.5) + 1px);}}/*!sc*/
data-styled.g6[id="navigation___StyledText-sc-774eka-1"]{content:"jCRvkf,"}/*!sc*/
.dwSieX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:var(--space3);}/*!sc*/
@media (min-width:30em){.dwSieX{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}/*!sc*/
data-styled.g7[id="header__Container-sc-1nogbck-0"]{content:"dwSieX,"}/*!sc*/
.dSUWxe{margin-left:auto;}/*!sc*/
data-styled.g8[id="header__NavigationContainer-sc-1nogbck-1"]{content:"dSUWxe,"}/*!sc*/
.dVmQNP{-webkit-text-decoration:none;text-decoration:none;color:var(--body-color);}/*!sc*/
.dVmQNP:hover,.dVmQNP:focus{color:var(--accent-color);background-color:initial;}/*!sc*/
data-styled.g9[id="header__LogoLink-sc-1nogbck-2"]{content:"dVmQNP,"}/*!sc*/
.eCUvub > * + *{margin-top:15vmin;}/*!sc*/
.gjNOtV > * + *{margin-top:var(--space2);}/*!sc*/
.IbxUW > * + *{margin-left:var(--space1);}/*!sc*/
.fBFIvK > * + *{margin-top:var(--space1);}/*!sc*/
data-styled.g10[id="stack__Stack-sc-1bfl2es-0"]{content:"eCUvub,gjNOtV,IbxUW,fBFIvK,"}/*!sc*/
.UHOor{font-variation-settings:'wght' 700;}/*!sc*/
data-styled.g11[id="footer___StyledP-sc-1ndajg9-0"]{content:"UHOor,"}/*!sc*/
.hVDTEs{font-variation-settings:'wght' 700;}/*!sc*/
data-styled.g12[id="footer___StyledP2-sc-1ndajg9-1"]{content:"hVDTEs,"}/*!sc*/
.lTRne{font-variation-settings:'wght' 700;}/*!sc*/
data-styled.g13[id="footer___StyledP3-sc-1ndajg9-2"]{content:"lTRne,"}/*!sc*/
.bmlNgE{display:grid;padding:var(--space2);grid-gap:var(--space2);color:var(--body-color-subtle);grid-template-areas:'main' 'metaA' 'metaB' 'metaC';}/*!sc*/
@media (min-width:30em){.bmlNgE{grid-template-areas:'main main' 'metaA metaB' 'metaC metaC';grid-template-columns:1fr 1fr;}}/*!sc*/
@media (min-width:45em){.bmlNgE{grid-template-areas:'main metaA metaB' 'main metaA metaB' 'metaC metaC metaC';grid-template-columns:1fr repeat(2,max-content);}}/*!sc*/
data-styled.g14[id="footer__FooterBox-sc-1ndajg9-3"]{content:"bmlNgE,"}/*!sc*/
.ftvdvg{grid-area:main;}/*!sc*/
data-styled.g15[id="footer__Main-sc-1ndajg9-4"]{content:"ftvdvg,"}/*!sc*/
.eLXBoK{grid-area:metaA;}/*!sc*/
data-styled.g16[id="footer__MetaA-sc-1ndajg9-5"]{content:"eLXBoK,"}/*!sc*/
.fVXKtW{grid-area:metaB;}/*!sc*/
data-styled.g17[id="footer__MetaB-sc-1ndajg9-6"]{content:"fVXKtW,"}/*!sc*/
.cJKiTi{grid-area:metaC;}/*!sc*/
data-styled.g18[id="footer__MetaC-sc-1ndajg9-7"]{content:"cJKiTi,"}/*!sc*/
.ecXWUQ{list-style:none;}/*!sc*/
data-styled.g19[id="footer__MetaList-sc-1ndajg9-8"]{content:"ecXWUQ,"}/*!sc*/
.IiDPi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:calc(100vh - var(--document-border-width));-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
data-styled.g20[id="layout__DocumentOuter-a96x6c-0"]{content:"IiDPi,"}/*!sc*/
.gtQWMY{-webkit-flex:1;-ms-flex:1;flex:1;background-color:var(--background-color);}/*!sc*/
data-styled.g21[id="layout__DocumentInner-a96x6c-1"]{content:"gtQWMY,"}/*!sc*/
.sjhRJ{display:grid;grid-template-areas:'gutter1 content gutter2' 'gutter1 meta1 gutter2' 'gutter1 meta2 gutter2';grid-template-columns:minmax(var(--space2),auto) minmax(0,44ch) minmax(var(--space2),auto);--gutterAb:var(--space2);}/*!sc*/
@media (max-width:calc(65em - 1px)){.sjhRJ > * + *{margin-top:var(--space2);}}/*!sc*/
@media (min-width:65em){.sjhRJ{grid-template-areas:'gutter1 meta1 gutterA content gutterB meta2 gutter2';grid-template-columns:1fr minmax(auto,15ch) var(--gutterAb) minmax(auto,52ch) var(--gutterAb) minmax(auto,15ch) 1fr;}}/*!sc*/
@media (min-width:72em){.sjhRJ{--gutterAb:var(--space4);}}/*!sc*/
data-styled.g22[id="standard-grid__StandardGrid-sc-1fejgwn-0"]{content:"sjhRJ,"}/*!sc*/
.hVMqJH{grid-area:content;}/*!sc*/
data-styled.g23[id="standard-grid__StandardGridContent-sc-1fejgwn-1"]{content:"hVMqJH,"}/*!sc*/
.sNtQd{display:inline-block;padding:0.25rem;background-color:#000;color:#fff;}/*!sc*/
data-styled.g27[id="tag__TagBox-sc-1xis00c-0"]{content:"sNtQd,"}/*!sc*/
.eKnQhQ{text-align:center;}/*!sc*/
data-styled.g28[id="post-header__Container-sc-5ypy2r-0"]{content:"eKnQhQ,"}/*!sc*/
.mDvIj{color:var(--body-color-subtle);}/*!sc*/
data-styled.g29[id="post-header___StyledText-sc-5ypy2r-1"]{content:"mDvIj,"}/*!sc*/
.jibpot{font-family:'Zangezi Sans';font-weight:700;color:var(--accent-color);line-height:1.06;font-size:2.2rem;font-size:clamp(2.6rem,7.2vw,5.6rem);text-align:center;}/*!sc*/
data-styled.g30[id="post-header__Heading-sc-5ypy2r-2"]{content:"jibpot,"}/*!sc*/
.jaBWsi{margin-left:auto;margin-right:auto;}/*!sc*/
data-styled.g31[id="post-layout___StyledBox-gugcd7-0"]{content:"jaBWsi,"}/*!sc*/
.diiWFD{text-align:center;}/*!sc*/
data-styled.g32[id="post-layout__Tags-gugcd7-1"]{content:"diiWFD,"}/*!sc*/
.jbiJwD{font-size:1.4rem;font-family:'Zangezi Sans';line-height:1.2;color:var(--accent-color);}/*!sc*/
data-styled.g33[id="heading__Heading-sc-1s686wg-0"]{content:"jbiJwD,"}/*!sc*/
.mJpmf{color:var(--body-color-subtle);}/*!sc*/
data-styled.g53[id="note__Note-sc-1dnr1c-0"]{content:"mJpmf,"}/*!sc*/
</style></head><body><div id="__next"><div class="layout__DocumentOuter-a96x6c-0 IiDPi"><div class="layout__DocumentInner-a96x6c-1 gtQWMY"><div class="box__Box-o7e38x-0 dlAsPD"><div direction="block" class="stack__Stack-sc-1bfl2es-0 eCUvub"><div class="header__Container-sc-1nogbck-0 dwSieX"><a href="../index.html" class="header__LogoLink-sc-1nogbck-2 dVmQNP"><p class="text__Text-sc-1w878hb-0 fLoZft">Ash</p></a><div class="header__NavigationContainer-sc-1nogbck-1 dSUWxe"><nav class="text__Text-sc-1w878hb-0 fJYDkD"><ul class="navigation__NavigationList-sc-774eka-0 kMIxmf"><li><a href="../index.html" class="text__Text-sc-1w878hb-0 navigation___StyledText-sc-774eka-1 kwyDPp jCRvkf">Home</a></li><li><a href="../posts" class="text__Text-sc-1w878hb-0 navigation___StyledText-sc-774eka-1 fLoZft jCRvkf is-active">Posts</a></li><li><a href="../projects" class="text__Text-sc-1w878hb-0 navigation___StyledText-sc-774eka-1 kwyDPp jCRvkf">Projects</a></li><li><a href="../about" class="text__Text-sc-1w878hb-0 navigation___StyledText-sc-774eka-1 kwyDPp jCRvkf">About</a></li></ul></nav></div></div><div class="box__Box-o7e38x-0 post-layout___StyledBox-gugcd7-0 lgZlXc jaBWsi"><header class="post-header__Container-sc-5ypy2r-0 eKnQhQ"><div direction="block" class="stack__Stack-sc-1bfl2es-0 gjNOtV"><div><time dateTime="2020-06-20" class="text__Text-sc-1w878hb-0 post-header___StyledText-sc-5ypy2r-1 jhWntc mDvIj">20/06/2020</time></div><p class="post-header__Heading-sc-5ypy2r-2 jibpot">Component-level static props in Next.js</p><div><span class="tag__TagBox-sc-1xis00c-0 sNtQd text__Text-sc-1w878hb-0 jhWntc">#<!-- -->Jamstack</span></div></div></header></div><div class="box__Box-o7e38x-0 gBeotF"><div class="standard-grid__StandardGrid-sc-1fejgwn-0 sjhRJ"><div class="standard-grid__StandardGridContent-sc-1fejgwn-1 hVMqJH"><div direction="block" class="stack__Stack-sc-1bfl2es-0 gjNOtV"><p>One of Next.js&#x27; most useful features is that it <em>pre-renders</em> apps. By executing our code before React renders in the browser, Next.js produces static HTML documents that can be cached by CDNs and displayed without any client-side JavaScript running.</p><p>To help simplify pre-rendering, Next.js requires that dynamic data is prepared at the page-level. Components inside a page can&#x27;t define their own <a href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation"><em>static props</em></a> or <a href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering"><em>server side props</em></a>. They can of course <em>be dynamic</em>, but Next.js will pre-render them in their initial state. Usually we pass the props prepared during pre-render down the tree to the components that need them.</p><div class="box__Box-o7e38x-0 bEFEVu"><div class="box__Box-o7e38x-0 code__Container-x5h3cp-0 gBeotF iNWQe"><pre class="shiki" style="background-color: #292D3E"><code><span class="line"><span style="color: #A6ACCD">┌──────────────────────┐        ╔════════════╗
│                      │        ║            ║
│   getStaticProps()   │───────▶║  &lt;Page /&gt;  ║
│                      │        ║            ║
└──────────────────────┘        ╚════════════╝
                                       │
                         ┌─────────────┴───────────┐
                         ▼                         ▼
                ┌─────────────────┐       ┌─────────────────┐
                │                 │       │                 │
                │  &lt;Component /&gt;  │       │  &lt;Component /&gt;  │
                │                 │       │                 │
                └─────────────────┘       └─────────────────┘
                                                   │
                                          ┌────────┘
                                          ▼
                                 ┌─────────────────┐
                                 │                 │
                                 │  &lt;Component /&gt;  │
                                 │                 │
                                 └─────────────────┘
</span></span></code></pre></div></div><p class="text__Text-sc-1w878hb-0 note__Note-sc-1dnr1c-0 jhWntc mJpmf">The flow of props in a statically rendered Next.js page.</p><p>This pattern works great, but wouldn&#x27;t it be neat if we could add static props from individual components? Think about static queries in Gatsby. They can be dropped into the component tree at any level to fetch data. The page itself doesn&#x27;t need to be aware of all the data required by the components within.</p><p>Shu, a developer at Vercel, shows us that this can be achieved with Next.js. The <a href="https://github.com/shuding/next-cms">Next-CMS project</a> provides a <code>&lt;CMS /&gt;</code> component that can be used to fetch and statically insert data from WordPress in any component.</p><p>Next-CMS uses Next.js&#x27; Static Site Generation (SSG) via the <code>getStaticProps</code> function, and that is what we will focus on in this post.</p><p>Static sites are a great option for displaying content from a CMS, because it&#x27;s usually unnecessary to fetch fresh data for every request. Next.js&#x27; <a href="https://nextjs.org/blog/next-9-4#incremental-static-regeneration-beta">Incremental Static Regeneration (ISR)</a> feature allows static pages to be regenerated in the background, so we don&#x27;t have to worry about stale content. This is kind of a superpower when compared to Gatsby&#x27;s build model!</p><p>The <code>&lt;CMS /&gt;</code> component accepts an <code>endpoint</code> prop to define its data source, and the fetched data is passed into a child render function. The assigned endpoint is automatically lifted up to the page&#x27;s <code>getStaticProps</code> function and fetched when the page is pre-rendered.</p><div class="box__Box-o7e38x-0 bEFEVu"><div class="box__Box-o7e38x-0 code__Container-x5h3cp-0 gBeotF iNWQe"><pre class="shiki" style="background-color: #292D3E"><code><span class="line"><span style="color: #C792EA">const</span><span style="color: #A6ACCD"> Header </span><span style="color: #89DDFF">=</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">()</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> (</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #89DDFF">&lt;</span><span style="color: #FFCB6B">CMS</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">endpoint</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/wp-json</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #89DDFF">{</span><span style="color: #A6ACCD">data </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> (</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h1</span><span style="color: #89DDFF">&gt;{</span><span style="color: #A6ACCD">data</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">name</span><span style="color: #89DDFF">}&lt;/</span><span style="color: #F07178">h1</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;{</span><span style="color: #A6ACCD">data</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">description</span><span style="color: #89DDFF">}&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">      </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">    )</span><span style="color: #89DDFF">}</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #89DDFF">&lt;/</span><span style="color: #FFCB6B">CMS</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">)</span></span></code></pre></div></div><p>In this example from the Next-CMS docs, the <code>&lt;Header /&gt;</code> component will be pre-rendered using the site data retrieved from WordPress. The data is fetched only at pre-render—never on the client—and rendered to static HTML. We benefit from all the advantages of <code>getStaticProps</code>, because indirectly that&#x27;s what we are using.</p><h2 class="heading__Heading-sc-1s686wg-0 jbiJwD">The inner workings of Next-CMS</h2><p>Next-CMS doesn&#x27;t add any special capabilities to Next.js. Instead, it cleverly uses <em>double rendering</em> to automatically lift the requested endpoints up to the page&#x27;s <code>getStaticProps</code> function. The fetched data then gets injected at render time using React Context.</p><p>There are three parts to this technique.</p><h3 class="heading__Heading-sc-1s686wg-0 jbiJwD">1. Lifting and resolving API requests</h3><p><a href="../../github.com/shuding/next-cms/blob/master/lib/get-cms-static-props.html">A function</a> is provided that gathers and fetches the endpoints assigned to nested <code>&lt;CMS /&gt;</code> components. It&#x27;s called from inside the <code>getStaticProps</code> function, and uses ReactDOM&#x27;s <code>renderToStaticMarkup</code> to perform an extra page render <em>prior</em> to Next.js&#x27; pre-render.</p><p>During this extra render, the endpoints of all nested <code>&lt;CMS /&gt;</code> components are <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/get-cms-static-props.html#L10">pushed to a global array</a>. They are added to a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a>—which is a convenient way to deduplicate them—and <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/get-cms-static-props.html#L23">then resolved in parallel using <code>fetch</code></a>.</p><div class="box__Box-o7e38x-0 bEFEVu"><div class="box__Box-o7e38x-0 code__Container-x5h3cp-0 gBeotF iNWQe"><pre class="shiki" style="background-color: #292D3E"><code><span class="line"><span style="color: #A6ACCD">   ┌─────────────────────────────────────┐        ╔════════════╗
   │          getStaticProps()           │        ║            ║
┌─▶│                                     │───────▶║  &lt;Page /&gt;  ║
│  │   global.__next_ssg_requests = []   │        ║            ║
│  └─────────────────────────────────────┘        ╚════════════╝
│                     ▲                                  │
│                     │        ┌─────────────────────────┴──────────────┐
│  ┌──────────────────┘        ▼                                        ▼
│  │  ┌─────────────────────────────────────────────────┐      ┌─────────────────┐
│  │  │           &lt;CMS endpoint=&#39;/wp-json&#39; /&gt;           │      │                 │
│  └──│                                                 │      │  &lt;Component /&gt;  │
│     │   global.__next_ssg_requests.push(&#39;/wp-json&#39;)   │      │                 │
│     └─────────────────────────────────────────────────┘      └─────────────────┘
│                                                                       │
│                                                  ┌────────────────────┘
│                                                  ▼
│                   ┌─────────────────────────────────────────────────────────────┐
│                   │           &lt;CMS endpoint=&#39;/wp-json/wp/v2/posts&#39; /&gt;           │
└───────────────────│                                                             │
                    │   global.__next_ssg_requests.push(&#39;/wp-json/wp/v2/posts&#39;)   │
                    └─────────────────────────────────────────────────────────────┘
</span></span></code></pre></div></div><p class="text__Text-sc-1w878hb-0 note__Note-sc-1dnr1c-0 jhWntc mJpmf">Gathering static props before pre-render. Each CMS component pushes its assigned endpoint to a global array. Once the required endpoints have been lifted up to the getStaticProps function, they are fetched in parallel. The fetched data is passed into the page props when Next.js pre-renders the page.</p><p>The fetched data is <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/get-cms-static-props.html#L32">added to an object</a>, where its key is the requested endpoint. This object is <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/pages/index.html#L25">passed into the page props</a>. Because the key is the requested endpoint, it can be mapped back to the relevant <code>&lt;CMS /&gt;</code> component when the page is rendered.</p><h3 class="heading__Heading-sc-1s686wg-0 jbiJwD">2. React Context</h3><p>The <code>withCMSPage</code> <em>higher order component</em> wraps the page in <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/with-cms-page.html#L11">a React Context</a>. The Context is initialised using the fetched data from the page props. <code>&lt;CMS /&gt;</code> components nested at any level can then read the data returned from their assigned endpoint.</p><div class="box__Box-o7e38x-0 bEFEVu"><div class="box__Box-o7e38x-0 code__Container-x5h3cp-0 gBeotF iNWQe"><pre class="shiki" style="background-color: #292D3E"><code><span class="line"><span style="color: #A6ACCD">                          ┌──────────────────────┐        ╔════════════╗
                          │                      │        ║            ║
                          │   getStaticProps()   │───────▶║  &lt;Page /&gt;  ║
                          │                      │        ║            ║
                          └──────────────────────┘        ╚════════════╝
                                                                 │
                                                                 │
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│━━━━━━━━━━━━━━━━━┓
┃                                                                │                 ┃
┃ &lt;CMSContext.Provider value={props.__next_ssg_data || {}} /&gt;    ├─────┐           ┃
┃                                                                │     │           ┃
┃                                                                │     │           ┃
┃                              ┌─────────────────────────────────┘     │           ┃
┃                              │                                       │           ┃
┃                              ▼                                       ▼           ┃
┃           ┌─────────────────────────────────────┐           ┌─────────────────┐  ┃
┃           │     &lt;CMS endpoint=&#39;/wp-json&#39; /&gt;     │           │                 │  ┃
┃           │                                     │           │  &lt;Component /&gt;  │  ┃
┃           │  const data = context[&#39;/wp-json&#39;]   │           │                 │  ┃
┃           └─────────────────────────────────────┘           └─────────────────┘  ┃
┃                                                                      │           ┃
┃                                                 ┌────────────────────┘           ┃
┃                                                 ▼                                ┃
┃                  ┌─────────────────────────────────────────────────────────────┐ ┃
┃                  │           &lt;CMS endpoint=&#39;/wp-json/wp/v2/posts&#39; /&gt;           │ ┃
┃                  │                                                             │ ┃
┃                  │        const data = context[&#39;/wp-json/wp/v2/posts&#39;]         │ ┃
┃                  └─────────────────────────────────────────────────────────────┘ ┃
┃                                                                                  ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
</span></span></code></pre></div></div><p class="text__Text-sc-1w878hb-0 note__Note-sc-1dnr1c-0 jhWntc mJpmf">The fetched data is injected into the CMS components using React Context.</p><h3 class="heading__Heading-sc-1s686wg-0 jbiJwD">3. The CMS component</h3><p><a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/cms.html#L5">The <code>&lt;CMS /&gt;</code> component</a> runs in two different modes.</p><p>During the extra render, it <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/cms.html#L23">simply pushes its assigned endpoint to a global array</a>. It doesn&#x27;t render any UI, because the extra render is performed only to lift required endpoints up to the <code>getStaticProps</code> function.</p><p>During a normal render, the <code>&lt;CMS /&gt;</code> component reads the fetched data from Context, and then passes it down to its <a href="../../github.com/shuding/next-cms/blob/f39cddc58b6b400d9dfa5fe14714c52b72e5bf7c/lib/cms.html#L11">child render function</a>.</p><hr/><p>There&#x27;s a few connected parts to think about here. The important thing is that it&#x27;s relatively simple for users to set up. The <a href="../../github.com/shuding/next-cms/blob/master/pages/index.html"><code>withCMSPage</code> and <code>getCMSStaticProps</code></a> function are all we need to add to start using the <code>&lt;CMS /&gt;</code> component.</p><p>The inner workings are useful to understand if you want to apply this technique yourself. It&#x27;s an interesting way to assemble a page because, beyond data fetching, it can be used to move work from the client render stage to the pre-render stage.</p><p>This website, for example, transforms code blocks to static HTML during pre-render, meaning the browser doesn&#x27;t have to download and run a highlighter such as Prism.js. Manually adding every code block to <code>getStaticProps</code> would be very cumbersome, but automatically lifting the code blocks up to <code>getStaticProps</code> makes it convenient. (More about static code block rendering soon!)</p><p>I can see this pattern being really useful in Next.js apps, but it is a little fiddly. A small wrapper library could help solve that, or it could even be incorporated into Next.js itself.</p></div></div></div></div><div class="post-layout__Tags-gugcd7-1 diiWFD"><div direction="inline" class="stack__Stack-sc-1bfl2es-0 IbxUW"><span class="tag__TagBox-sc-1xis00c-0 sNtQd text__Text-sc-1w878hb-0 jhWntc">#<!-- -->Next.js</span><span class="tag__TagBox-sc-1xis00c-0 sNtQd text__Text-sc-1w878hb-0 jhWntc">#<!-- -->Jamstack</span></div></div></div></div></div><div class="text__Text-sc-1w878hb-0 fJYDkD"><footer class="footer__FooterBox-sc-1ndajg9-3 bmlNgE"><div class="footer__Main-sc-1ndajg9-4 ftvdvg"><div direction="block" class="stack__Stack-sc-1bfl2es-0 fBFIvK"><p class="footer___StyledP-sc-1ndajg9-0 UHOor">Made by Ash.</p><p>Figuring shit out 2008 – ??</p></div></div><div class="footer__MetaA-sc-1ndajg9-5 eLXBoK"><div direction="block" class="stack__Stack-sc-1bfl2es-0 fBFIvK"><p class="footer___StyledP2-sc-1ndajg9-1 hVDTEs">Etc.</p><ul class="footer__MetaList-sc-1ndajg9-8 ecXWUQ"><li><a href="#"><del>About this site</del></a></li><li><a href="#"><del>Design system</del></a></li></ul></div></div><div class="footer__MetaB-sc-1ndajg9-6 fVXKtW"><div direction="block" class="stack__Stack-sc-1bfl2es-0 fBFIvK"><p class="footer___StyledP3-sc-1ndajg9-2 lTRne">Networks and stuff:</p><ul class="footer__MetaList-sc-1ndajg9-8 ecXWUQ"><li><a href="mailto:ashley@juice49.com">ashley@juice49.com</a></li><li><a href="https://twitter.com/juice49" target="_blank" rel="noopener">Twitter</a></li><li><a href="https://github.com/juice49" target="_blank" rel="noopener">GitHub</a></li><li><a href="https://instagram.com/juice49" target="_blank" rel="noopener">Instagram</a></li><li><a href="https://codepen.com/ash" target="_blank" rel="noopener">Codepen</a></li><li><a href="https://dribbble.com/ash" target="_blank" rel="noopener">Dribbble</a></li></ul></div></div><div class="footer__MetaC-sc-1ndajg9-7 cJKiTi"><div class="box__Box-o7e38x-0 ecyWVI"><div direction="block" class="stack__Stack-sc-1bfl2es-0 fBFIvK"><p>Feel free to use and remix anything you find on this site. It would be cool to hear what you do with it ✌️.</p></div></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"__nextSsgCodeBlocks":{"┌──────────────────────┐        ╔════════════╗\n│                      │        ║            ║\n│   getStaticProps()   │───────▶║  \u003cPage /\u003e  ║\n│                      │        ║            ║\n└──────────────────────┘        ╚════════════╝\n                                       │\n                         ┌─────────────┴───────────┐\n                         ▼                         ▼\n                ┌─────────────────┐       ┌─────────────────┐\n                │                 │       │                 │\n                │  \u003cComponent /\u003e  │       │  \u003cComponent /\u003e  │\n                │                 │       │                 │\n                └─────────────────┘       └─────────────────┘\n                                                   │\n                                          ┌────────┘\n                                          ▼\n                                 ┌─────────────────┐\n                                 │                 │\n                                 │  \u003cComponent /\u003e  │\n                                 │                 │\n                                 └─────────────────┘\n":"\u003cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e┌──────────────────────┐        ╔════════════╗\n│                      │        ║            ║\n│   getStaticProps()   │───────▶║  \u0026lt;Page /\u0026gt;  ║\n│                      │        ║            ║\n└──────────────────────┘        ╚════════════╝\n                                       │\n                         ┌─────────────┴───────────┐\n                         ▼                         ▼\n                ┌─────────────────┐       ┌─────────────────┐\n                │                 │       │                 │\n                │  \u0026lt;Component /\u0026gt;  │       │  \u0026lt;Component /\u0026gt;  │\n                │                 │       │                 │\n                └─────────────────┘       └─────────────────┘\n                                                   │\n                                          ┌────────┘\n                                          ▼\n                                 ┌─────────────────┐\n                                 │                 │\n                                 │  \u0026lt;Component /\u0026gt;  │\n                                 │                 │\n                                 └─────────────────┘\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","const Header = () =\u003e (\n  \u003cCMS endpoint='/wp-json'\u003e\n    {data =\u003e (\n      \u003cdiv\u003e\n        \u003ch1\u003e{data.name}\u003c/h1\u003e\n        \u003cp\u003e{data.description}\u003c/p\u003e\n      \u003c/div\u003e\n    )}\n  \u003c/CMS\u003e\n)\n":"\u003cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C792EA\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e Header \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e()\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e \u003c/span\u003e\u003cspan style=\"color: #C792EA\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #FFCB6B\"\u003eCMS\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e \u003c/span\u003e\u003cspan style=\"color: #C792EA\"\u003eendpoint\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color: #C3E88D\"\u003e/wp-json\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003edata \u003c/span\u003e\u003cspan style=\"color: #C792EA\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #F07178\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #F07178\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003edata\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003ename\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e}\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #F07178\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #F07178\"\u003ep\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;{\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003edata\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #A6ACCD\"\u003edescription\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e}\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #F07178\"\u003ep\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #F07178\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e    )\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #FFCB6B\"\u003eCMS\u003c/span\u003e\u003cspan style=\"color: #89DDFF\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","   ┌─────────────────────────────────────┐        ╔════════════╗\n   │          getStaticProps()           │        ║            ║\n┌─▶│                                     │───────▶║  \u003cPage /\u003e  ║\n│  │   global.__next_ssg_requests = []   │        ║            ║\n│  └─────────────────────────────────────┘        ╚════════════╝\n│                     ▲                                  │\n│                     │        ┌─────────────────────────┴──────────────┐\n│  ┌──────────────────┘        ▼                                        ▼\n│  │  ┌─────────────────────────────────────────────────┐      ┌─────────────────┐\n│  │  │           \u003cCMS endpoint='/wp-json' /\u003e           │      │                 │\n│  └──│                                                 │      │  \u003cComponent /\u003e  │\n│     │   global.__next_ssg_requests.push('/wp-json')   │      │                 │\n│     └─────────────────────────────────────────────────┘      └─────────────────┘\n│                                                                       │\n│                                                  ┌────────────────────┘\n│                                                  ▼\n│                   ┌─────────────────────────────────────────────────────────────┐\n│                   │           \u003cCMS endpoint='/wp-json/wp/v2/posts' /\u003e           │\n└───────────────────│                                                             │\n                    │   global.__next_ssg_requests.push('/wp-json/wp/v2/posts')   │\n                    └─────────────────────────────────────────────────────────────┘\n":"\u003cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e   ┌─────────────────────────────────────┐        ╔════════════╗\n   │          getStaticProps()           │        ║            ║\n┌─▶│                                     │───────▶║  \u0026lt;Page /\u0026gt;  ║\n│  │   global.__next_ssg_requests = []   │        ║            ║\n│  └─────────────────────────────────────┘        ╚════════════╝\n│                     ▲                                  │\n│                     │        ┌─────────────────────────┴──────────────┐\n│  ┌──────────────────┘        ▼                                        ▼\n│  │  ┌─────────────────────────────────────────────────┐      ┌─────────────────┐\n│  │  │           \u0026lt;CMS endpoint=\u0026#39;/wp-json\u0026#39; /\u0026gt;           │      │                 │\n│  └──│                                                 │      │  \u0026lt;Component /\u0026gt;  │\n│     │   global.__next_ssg_requests.push(\u0026#39;/wp-json\u0026#39;)   │      │                 │\n│     └─────────────────────────────────────────────────┘      └─────────────────┘\n│                                                                       │\n│                                                  ┌────────────────────┘\n│                                                  ▼\n│                   ┌─────────────────────────────────────────────────────────────┐\n│                   │           \u0026lt;CMS endpoint=\u0026#39;/wp-json/wp/v2/posts\u0026#39; /\u0026gt;           │\n└───────────────────│                                                             │\n                    │   global.__next_ssg_requests.push(\u0026#39;/wp-json/wp/v2/posts\u0026#39;)   │\n                    └─────────────────────────────────────────────────────────────┘\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","                          ┌──────────────────────┐        ╔════════════╗\n                          │                      │        ║            ║\n                          │   getStaticProps()   │───────▶║  \u003cPage /\u003e  ║\n                          │                      │        ║            ║\n                          └──────────────────────┘        ╚════════════╝\n                                                                 │\n                                                                 │\n┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│━━━━━━━━━━━━━━━━━┓\n┃                                                                │                 ┃\n┃ \u003cCMSContext.Provider value={props.__next_ssg_data || {}} /\u003e    ├─────┐           ┃\n┃                                                                │     │           ┃\n┃                                                                │     │           ┃\n┃                              ┌─────────────────────────────────┘     │           ┃\n┃                              │                                       │           ┃\n┃                              ▼                                       ▼           ┃\n┃           ┌─────────────────────────────────────┐           ┌─────────────────┐  ┃\n┃           │     \u003cCMS endpoint='/wp-json' /\u003e     │           │                 │  ┃\n┃           │                                     │           │  \u003cComponent /\u003e  │  ┃\n┃           │  const data = context['/wp-json']   │           │                 │  ┃\n┃           └─────────────────────────────────────┘           └─────────────────┘  ┃\n┃                                                                      │           ┃\n┃                                                 ┌────────────────────┘           ┃\n┃                                                 ▼                                ┃\n┃                  ┌─────────────────────────────────────────────────────────────┐ ┃\n┃                  │           \u003cCMS endpoint='/wp-json/wp/v2/posts' /\u003e           │ ┃\n┃                  │                                                             │ ┃\n┃                  │        const data = context['/wp-json/wp/v2/posts']         │ ┃\n┃                  └─────────────────────────────────────────────────────────────┘ ┃\n┃                                                                                  ┃\n┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n":"\u003cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #A6ACCD\"\u003e                          ┌──────────────────────┐        ╔════════════╗\n                          │                      │        ║            ║\n                          │   getStaticProps()   │───────▶║  \u0026lt;Page /\u0026gt;  ║\n                          │                      │        ║            ║\n                          └──────────────────────┘        ╚════════════╝\n                                                                 │\n                                                                 │\n┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│━━━━━━━━━━━━━━━━━┓\n┃                                                                │                 ┃\n┃ \u0026lt;CMSContext.Provider value={props.__next_ssg_data || {}} /\u0026gt;    ├─────┐           ┃\n┃                                                                │     │           ┃\n┃                                                                │     │           ┃\n┃                              ┌─────────────────────────────────┘     │           ┃\n┃                              │                                       │           ┃\n┃                              ▼                                       ▼           ┃\n┃           ┌─────────────────────────────────────┐           ┌─────────────────┐  ┃\n┃           │     \u0026lt;CMS endpoint=\u0026#39;/wp-json\u0026#39; /\u0026gt;     │           │                 │  ┃\n┃           │                                     │           │  \u0026lt;Component /\u0026gt;  │  ┃\n┃           │  const data = context[\u0026#39;/wp-json\u0026#39;]   │           │                 │  ┃\n┃           └─────────────────────────────────────┘           └─────────────────┘  ┃\n┃                                                                      │           ┃\n┃                                                 ┌────────────────────┘           ┃\n┃                                                 ▼                                ┃\n┃                  ┌─────────────────────────────────────────────────────────────┐ ┃\n┃                  │           \u0026lt;CMS endpoint=\u0026#39;/wp-json/wp/v2/posts\u0026#39; /\u0026gt;           │ ┃\n┃                  │                                                             │ ┃\n┃                  │        const data = context[\u0026#39;/wp-json/wp/v2/posts\u0026#39;]         │ ┃\n┃                  └─────────────────────────────────────────────────────────────┘ ┃\n┃                                                                                  ┃\n┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"}},"__N_SSG":true},"page":"/posts/2020-06-20-component-level-static-props-in-next-js","query":{},"buildId":"RatWFxOT0l9YzuddsZ55j","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["style",{"type":"text/css","dangerouslySetInnerHTML":{"__html":"\n            /* @font-face {\n              font-family: 'PT Root UI';\n              font-display: swap;\n              src: url('/fonts/pt-root-ui-vf/fonts/pt-root-ui-vf.woff2') format('woff2');\n            } */\n            \n            @font-face {\n              font-family: 'Zangezi Sans';\n              font-weight: 700;\n              font-display: swap;\n              src: url('/fonts/zangezi-sans-0.8/ZangeziSans08-Black.woff2') format('woff2');\n            }\n\n            @font-face {\n              font-family: 'JetBrains Mono';\n              font-display: swap;\n              src: url('/fonts/JetBrainsMono-1.0.3/web/woff2/JetBrainsMono-Regular.woff2') format('woff2');\n            }\n\n            @font-face {\n              font-family: Space Grotesk;\n              font-display: swap;\n              src: url('/fonts/space-grotesk-1.1.6/variable/SpaceGroteskVariable.ttf') format('truetype');\n            }\n          "}}],["title",{"children":"Component-level static props in Next.js - Ash"}]]}</script><script nomodule="" src="../_next/static/chunks/polyfills-5fcdb0833e7f775472de.js"></script><script src="../_next/static/chunks/main-a8bee2a654dc1ec3f867.js" async=""></script><script src="../_next/static/chunks/webpack-0d21ce76fa2eab9a99a2.js" async=""></script><script src="../_next/static/chunks/framework-1bb91ad9873b30ae9cc8.js" async=""></script><script src="../_next/static/chunks/4b5af5b7c403ea92fecda8151d2d0aec9203d47f-166fc89835d7310a1edd.js" async=""></script><script src="../_next/static/chunks/bb89b55f4e46d4f7117026e883efb04dd53f34b0-dcb8bb12789c430ced16.js" async=""></script><script src="../_next/static/chunks/3055742522a0ac2e5da4de9349bfe16c5d457882-77e8f1bc6cd5a85348d4.js" async=""></script><script src="../_next/static/chunks/fbf7bac2deb23a982538d824bf4ea07943c8716f-a2df4da657d7cc84cff7.js" async=""></script><script src="../_next/static/chunks/pages/_app-bb9817fa7b5f1b47a55d.js" async=""></script><script src="../_next/static/chunks/pages/posts/2020-06-20-component-level-static-props-in-next-js-9bae0648c03053515b56.js" async=""></script><script src="../_next/static/RatWFxOT0l9YzuddsZ55j/_buildManifest.js" async=""></script><script src="../_next/static/RatWFxOT0l9YzuddsZ55j/_ssgManifest.js" async=""></script><script defer="" src="../../static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;c130dee7fda7436888dc9b888ff2842a&quot;}"></script></body>
<!-- Mirrored from ash.gd/posts/2020-06-20-component-level-static-props-in-next-js by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Jan 2021 02:10:25 GMT -->
</html>